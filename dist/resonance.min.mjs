var __webpack_modules__=[(e,t,s)=>{s.r(t),s.d(t,{Resonance:()=>a});var r=s(1),d=s(2);
/**
* Class for managing sounds
* @class ResonanceSingleton  
* @license Resonance does not have a license at this time. For licensing contact the author
* @author https://github.com/doubleactii
* Copyright (c) 2023 Evitca Studio

Safari does not support .ogg files, so if you are using safari, do not use .ogg files or this library will not play that sound on safari.
Otherwise, you can use .ogg on any other platform. Cordova included. This supports mp3, wav, ogg, etc.
*/
class h{static MAX_VOLUME=200;static MIN_VOLUME=-200;static MAX_RECYCLED_SOUNDS=500;static MAX_PLAYBACK_RATE=10;static FRAME_RATE=60;static clamp=(e,t,s)=>Math.max(t,Math.min(e,s));static normalize=(e,t=0,s=100,a=1)=>(e-t)/(s-t)*a;constructor(){window.AudioContext||window.webkitAudioContext?(window.AudioContext=window.AudioContext||window.webkitAudioContext,window.addEventListener("mousedown",this.resumeAudioCtx.bind(this)),window.addEventListener("touchstart",this.resumeAudioCtx.bind(this)),window.addEventListener("load",this.resumeAudioCtx.bind(this)),window.addEventListener("blur",()=>{this.focused=!1,this.soundsPlaying.length&&this.pauseAllSounds(!0)}),window.addEventListener("focus",()=>{this.focused=!0,this.pausedSounds.length&&this.resumeAllSounds(!0),(this.queuedSoundsToPlay.length||this.queuedSoundsToFade.length)&&this.playQueuedSounds()}),this.audioCtx=new AudioContext,!this.audioCtx.createGain&&this.audioCtx.createGainNode&&(this.audioCtx.createGain=this.audioCtx.createGainNode),this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=h.normalize(h.MAX_VOLUME),this.gainNode.connect(this.audioCtx.destination),this.soundsPlaying=[],this.pausedSounds=[],this.recycledSounds=[],this.queuedSoundsToPlay=[],this.queuedSoundsToFade=[],this.loadedBuffers={},this.fader={},this.volume=100,this.muted=!1,this.state=null,this.focused=!0,this.abilityToPlaySound=null):console.error("Your device does not support window.AudioContext || window.webkitAudioContext. This library cannot be used")}canPlaySound(){return!(this.abilityToPlaySound&&!this.abilityToPlaySound())}enableChecker(e){return"function"==typeof e&&(this.abilityToPlaySound=e),this}adjustVolume(e){return this.volume=h.clamp(e,h.MIN_VOLUME,h.MAX_VOLUME),this.gainNode.gain.value=h.normalize(this.volume),this}fade(s=100,e=5e3,a="easeOutCubic",n){if(!isNaN(s)&&!isNaN(e)&&"fading"!==this.state){s=h.clamp(s,h.MIN_VOLUME,h.MAX_VOLUME),r.Tween[a]||console.error("Invalid pEase value. Reverted to default."),this.state="fading",this.fader.duration=Math.max(e,0),this.fader.currentIteration=0,this.fader.initialValue=this.volume,this.fader.changeInValue=s-this.fader.initialValue,this.fader.totalIterations=this.fader.duration/(1e3/h.FRAME_RATE),this.fader.startStamp=null,this.fader.previousTimeStamp=null,this.fader.durationOffScreen=[0,0];const i=this,o=function(e){var t;i.focused?(null===i.fader.startStamp&&(i.fader.startStamp=e),i.adjustVolume(r.Tween[a](i.fader.currentIteration,i.fader.initialValue,i.fader.changeInValue,i.fader.totalIterations)),i.fader.durationOffScreen[1]&&(i.fader.durationOffScreen[0]+=i.fader.durationOffScreen[1],i.fader.durationOffScreen[1]=0),t=e-i.fader.durationOffScreen[0]-i.fader.startStamp,i.fader.currentIteration<i.fader.totalIterations&&i.fader.currentIteration++,t<i.fader.duration?(i.fader.previousTimeStamp=e,i.fader.raf=requestAnimationFrame(o)):(cancelAnimationFrame(i.fader.raf),i.fader.duration=i.fader.currentIteration=i.fader.initialValue=i.fader.changeInValue=i.fader.totalIterations=i.fader.startStamp=i.fader.previousTimeStamp=i.fader.durationOffScreen=i.fader.raf=null,i.state=null,i.adjustVolume(s),"function"==typeof n&&n())):(i.fader.raf=requestAnimationFrame(o),i.fader.durationOffScreen[1]=e-i.fader.previousTimeStamp)};return this.fader.raf=requestAnimationFrame(o),this}}toggleMute(){return this.muted=!this.muted,this.muted?(this._previousGainNodeValue=this.gainNode.gain.value,this.gainNode.gain.value=0):this.gainNode.gain.value=this._previousGainNodeValue||1,this}isMuted(){return this.muted}emit(t,s=100,a=0,n,i=1){if(this.canPlaySound()){const o=this,r=o.audioCtx.createBufferSource(),u=(r.kill=function(){this.buffer?this.stop():this.queuedToStop=!0},function(){var e=o.audioCtx.createGain();e.gain.value=h.normalize(h.clamp(s,h.MIN_VOLUME,h.MAX_VOLUME)),e.connect(o.gainNode),r.connect(e),r.buffer=o.loadedBuffers[t],r.playbackRate.value=i,r.start||(r.start=r.noteOn),r.start(0,a,n||r.buffer.duration)});if(this.loadedBuffers[t])u();else{const d=new XMLHttpRequest;d.open("GET",t),d.responseType="arraybuffer",d.onload=function(){var e=d.response;o.audioCtx.decodeAudioData(e,e=>{o.loadedBuffers[t]=e,r.queuedToStop||u()},e=>{console.error(`Error with decoding audio data "${t}"`)})},d.send()}return r}}createSound(e,t,s,a,n,i,o,r){var u;return this.recycledSounds.length?((u=this.recycledSounds.pop()).build(e,t,s,a,n,i,o,r),u):new d.Sound(e,t,s,a,n,i,o,r)}stopAllSounds(t){for(let e=this.soundsPlaying.length-1;0<=e;e--){var s=this.soundsPlaying[e];Array.isArray(t)&&t.includes(s)||s.stop()}return this}killAllSounds(){for(let e=this.soundsPlaying.length-1;0<=e;e--)this.soundsPlaying[e].kill();return this}pauseAllSounds(t){for(let e=this.soundsPlaying.length-1;0<=e;e--){var s=this.soundsPlaying[e];t&&s.canPlayUnfocused()||s.pause()}return this}resumeAllSounds(e){for(let e=this.pausedSounds.length-1;0<=e;e--)this.pausedSounds[e].resume();return this}playQueuedSounds(){for(let e=this.queuedSoundsToPlay.length-1;0<=e;e--){var t=this.queuedSoundsToPlay[e];this.queuedSoundsToPlay.splice(e,1),t.play()}for(let e=this.queuedSoundsToFade.length-1;0<=e;e--){var s=this.queuedSoundsToFade[e];this.queuedSoundsToFade.splice(e,1),s.queuedFade()}}unloadSound(e){return this.loadedBuffers[e]&&delete this.loadedBuffers[e],this}recycleSound(e){return e instanceof d.Sound&&e.kill(),this}resumeAudioCtx(){"running"!==this.audioCtx.state&&this.audioCtx.resume().then(()=>{},()=>{}),this.ready=!0}}const a=new h},(e,t,s)=>{s.r(t),s.d(t,{Tween:()=>i});
/**
* Class for creating a tweening animation
* @class Tween  
* @license Tween does not have a license at this time. For licensing contact the author
* @author https://github.com/doubleactii
* Copyright (c) 2023 Evitca Studio
*/
class i{constructor({start:e={},end:t={},duration:s=1e3,easing:a=i.linear}={}){this._build(e,t,s,a)}static linear(e,t,s,a){return s*e/a+t}static easeInQuad(e,t,s,a){return s*(e/=a)*e+t}static easeOutQuad(e,t,s,a){return-s*(e/=a)*(e-2)+t}static easeInOutQuad(e,t,s,a){return(e/=a/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t}static easeInSine(e,t,s,a){return-s*Math.cos(e/a*(Math.PI/2))+s+t}static easeOutSine(e,t,s,a){return s*Math.sin(e/a*(Math.PI/2))+t}static easeInOutSine(e,t,s,a){return-s/2*(Math.cos(Math.PI*e/a)-1)+t}static easeInExpo(e,t,s,a){return 0==e?t:s*Math.pow(2,10*(e/a-1))+t}static easeOutExpo(e,t,s,a){return e==a?t+s:s*(1-Math.pow(2,-10*e/a))+t}static easeInOutExpo(e,t,s,a){return 0==e?t:e==a?t+s:(e/=a/2)<1?s/2*Math.pow(2,10*(e-1))+t:s/2*(2-Math.pow(2,-10*--e))+t}static easeInCirc(e,t,s,a){return-s*(Math.sqrt(1-(e/=a)*e)-1)+t}static easeOutCirc(e,t,s,a){return s*Math.sqrt(1-(e=e/a-1)*e)+t}static easeInOutCirc(e,t,s,a){return(e/=a/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+t:s/2*(Math.sqrt(1-(e-=2)*e)+1)+t}static easeInCubic(e,t,s,a){return s*(e/=a)*e*e+t}static easeOutCubic(e,t,s,a){return s*((e=e/a-1)*e*e+1)+t}static easeInOutCubic(e,t,s,a){return(e/=a/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t}static easeInQuart(e,t,s,a){return s*(e/=a)*e*e*e+t}static easeOutQuart(e,t,s,a){return-s*((e=e/a-1)*e*e*e-1)+t}static easeInOutQuart(e,t,s,a){return(e/=a/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t}static easeInQuint(e,t,s,a){return s*(e/=a)*e*e*e*e+t}static easeOutQuint(e,t,s,a){return s*((e=e/a-1)*e*e*e*e+1)+t}static easeInOutQuint(e,t,s,a){return(e/=a/2)<1?s/2*e*e*e*e*e+t:s/2*((e-=2)*e*e*e*e+2)+t}static easeInElastic(e,t,s,a){var n,i=s;return 0==e?t:1==(e/=a)?t+s:(n=.3*a,s=i<Math.abs(s)?(i=s,n/4):0===s&&0===i?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*--e)*Math.sin((e*a-s)*(2*Math.PI)/n))+t)}static easeOutElastic(e,t,s,a){var n,i,o=s;return 0==e?t:1==(e/=a)?t+s:(i=.3*a,n=o<Math.abs(s)?(o=s,i/4):0===s&&0===o?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin((e*a-n)*(2*Math.PI)/i)+s+t)}static easeInOutElastic(e,t,s,a){var n,i,o=s;return 0==e?t:2==(e/=a/2)?t+s:(i=a*(.3*1.5),n=o<Math.abs(s)?(o=s,i/4):0===s&&0===o?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(s/o),e<1?o*Math.pow(2,10*--e)*Math.sin((e*a-n)*(2*Math.PI)/i)*-.5+t:o*Math.pow(2,-10*--e)*Math.sin((e*a-n)*(2*Math.PI)/i)*.5+s+t)}static easeInBack(e,t,s,a){return s*(e/=a)*e*(2.70158*e-1.70158)+t}static easeOutBack(e,t,s,a){return s*((e=e/a-1)*e*(2.70158*e+1.70158)+1)+t}static easeInOutBack(e,t,s,a){var n=1.70158;return(e/=a/2)<1?s/2*(e*e*((1+(n*=1.525))*e-n))+t:s/2*((e-=2)*e*((1+(n*=1.525))*e+n)+2)+t}static easeInBounce(e,t,s,a){return s-this.easeOutBounce(a-e,0,s,a)+t}static easeOutBounce(e,t,s,a){return(e/=a)<1/2.75?7.5625*s*e*e+t:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+t:s*(7.5625*(e-=2.625/2.75)*e+.984375)+t}static easeInOutBounce(e,t,s,a){return e<.5*a?.5*this.easeInBounce(2*e,0,s,a)+t:.5*this.easeOutBounce(2*e-a,0,s,a)+.5*s+t}static _clamp(e,t=0,s=1){return Math.max(t,Math.min(e,s))}static _hexToRgb(e){return e=(e=3===(e=e.replace("#","")).length?e.replace(new RegExp("(.)","g"),"$1$1"):e).match(new RegExp("..","g")),[i._clamp(parseInt(e[0],16),0,255),i._clamp(parseInt(e[1],16),0,255),i._clamp(parseInt(e[2],16),0,255)]}static _rgbToHex(e){if(Array.isArray(e))return"#"+e.map(e=>Math.abs(Math.round(e)).toString(16).padStart(2,"0")).join("")}_build(e,t,s,a){this.start=e,this.end=t,this.duration=s,this.easing="function"==typeof a?a:i.linear,this.events={},this.exportedValues={},this.tweening=!1,this.update=null,this.paused=!1,this.lastTime=0,this.elapsed=0}build({start:e={},end:t={},duration:s=1e3,easing:a=i.linear}={}){return this._build(e,t,s,a),this}on(e,t){if("function"==typeof t)switch(e){case"start":case"end":case"pause":case"resume":this.events[e]=t;break;default:console.error(`The event "${e}" is not supported.`)}else console.error(`The callback for event "${e}" is not a function.`);return this}animationFrame=()=>{if(this.tweening&&!this.paused){var a,n,e=Date.now();this.lastTime||(this.lastTime=e),this.elapsed+=e-this.lastTime;let s=this.elapsed/this.duration;for(a in 1<(s=this.oscillating?(1-Math.cos(s*Math.PI))/2:s)&&(s=1),this.end){let e=this.start[a],t=this.end[a];"string"==typeof e&&(3===e.length||6===e.length)||4===e.length||7===e.length?(e=i._hexToRgb(e),t=i._hexToRgb(t),n=[this.easing(s,e[0],t[0]-e[0],1),this.easing(s,e[1],t[1]-e[1],1),this.easing(s,e[2],t[2]-e[2],1)],this.exportedValues[a]=i._rgbToHex(n)):this.exportedValues[a]=this.easing(s,e,t-e,1)}this.update(this.exportedValues),1!==s||this.oscillating?requestAnimationFrame(this.animationFrame):(this.stop(),this.events.end&&this.events.end()),this.lastTime=e}};animate(e,s=!1){if("function"!=typeof e)console.error("The pUpdate parameter passed to animate is not a function.");else if(!this.tweening){var a=Object.keys(this.start);let t=Object.keys(this.end);if(a.length&&t.length){if(a.every(e=>t.includes(e)))return this.update=e,this.tweening=!0,this.elapsed=0,this.oscillating=s,this.events.start&&this.events.start(),requestAnimationFrame(this.animationFrame),this;console.error("The end object is missing properties that the start object has.")}else console.error("The start object or the end object has no properties.")}}resume(){return this.paused&&(this.lastTime=Date.now(),this.paused=!1,this.events.resume&&this.events.resume(),requestAnimationFrame(this.animationFrame)),this}pause(){return this.paused||(this.paused=!0,this.events.pause&&this.events.pause()),this}stop(){this.tweening=!1,this.oscillating=!1,this.update=null,this.elapsed=0,this.lastTime=0,this.paused=!1;for(const e in this.exportedValues)this.exportedValues.hasOwnProperty(e)&&delete this.exportedValues[e]}}},(e,t,s)=>{s.r(t),s.d(t,{Sound:()=>a});var u=s(0);class a{soundPath=null;startTime=null;endTime=null;save=null;duration=null;source=null;gainNode=null;loaded=!1;playAfterLoad=!1;muted=!1;state=null;startedTimeStamp=null;pausedTimeStamp=0;playUnfocused=null;fader={};events={};stopSignal=!1;_loop=!1;_playbackRate=1;_volume=100;_info={soundPath:null,duration:null};constructor(e,t,s,a,n,i,o,r){this.build(e,t,s,a,n,i,o,r)}get volume(){return this._volume}set volume(e){this._volume=u.Resonance.constructor.clamp(e,u.Resonance.constructor.MIN_VOLUME,u.Resonance.constructor.MAX_VOLUME),this.loaded&&(this.gainNode.gain.value=u.Resonance.constructor.normalize(this._volume))}on(e,t){if("function"==typeof t)switch(e){case"start":case"stop":case"end":case"pause":case"resume":this.events[e]=t;break;default:console.error(`The event "${e}" is not supported.`)}else console.error(`The callback for event "${e}" is not a function.`);return this}toggleMute(){if(this.loaded&&this.source)return this.muted=!this.muted,this.muted?this.gainNode.gain.value=0:this.gainNode.gain.value=u.Resonance.constructor.normalize(this._volume),this}get loop(){return this._loop}set loop(e){this._loop=!!e,this.source&&(this.source.loop=this._loop)}toggleLoop(){return this._loop=!this._loop,this.source&&(this.source.loop=this._loop),this}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=u.Resonance.constructor.clamp(e,1,u.Resonance.constructor.MAX_PLAYBACK_RATE),this.source&&(this.source.playbackRate.value=this._playbackRate)}set info(e){this._info=this._info}get info(){return this.loaded&&this.source&&(this._info.duration=this.duration),this._info.soundPath=this.soundPath,{...this._info}}build(e,t=100,s=0,a=0,n=!1,i=!1,o=1,r=!1){this.soundPath=e,this.startTime=Math.max(s,0),this.endTime=Math.max(a,0),this.save=!!r||n,this._playbackRate=u.Resonance.constructor.clamp(o,1,u.Resonance.constructor.MAX_PLAYBACK_RATE),this.playUnfocused=!!i,this.state=null,this._loop=!!r,this._volume=u.Resonance.constructor.clamp(t,u.Resonance.constructor.MIN_VOLUME,u.Resonance.constructor.MAX_VOLUME),u.Resonance.loadedBuffers[this.soundPath]?this.loaded=!0:this.load()}load(){const t=new XMLHttpRequest,s=this;t.open("GET",s.soundPath),t.responseType="arraybuffer",t.onload=function(){var e=t.response;u.Resonance.audioCtx.decodeAudioData(e,e=>{s.loaded=!0,u.Resonance.loadedBuffers[s.soundPath]=e,s.playAfterLoad&&(s.stopSignal?s.stopSignal=!1:s.play())},e=>{s.loaded=!1,console.error(`Error with decoding audio data "${s.soundPath}" This sound has been killed.`),s.kill()})},t.send()}pause(){if(this.loaded)return this.stop("suspended"),this.state="suspended",this.pausedTimeStamp=u.Resonance.audioCtx.currentTime-this.startedTimeStamp,u.Resonance.soundsPlaying.includes(this)&&u.Resonance.soundsPlaying.splice(u.Resonance.soundsPlaying.indexOf(this),1),u.Resonance.pausedSounds.includes(this)||u.Resonance.pausedSounds.push(this),"function"==typeof this.events.pause&&this.events.pause(),this}resume(){if(this.loaded)return u.Resonance.pausedSounds.includes(this)&&u.Resonance.pausedSounds.splice(u.Resonance.pausedSounds.indexOf(this),1),u.Resonance.soundsPlaying.includes(this)||u.Resonance.soundsPlaying.push(this),this.play(!0),this.state=this.fader.raf?"fading":"playing","function"==typeof this.events.resume&&this.events.resume(),this}stop(e){var t;if(this.source)return t="playing"===this.state||"fading"===this.state||"suspended"===this.state,u.Resonance.soundsPlaying.includes(this)&&u.Resonance.soundsPlaying.splice(u.Resonance.soundsPlaying.indexOf(this),1),this.source&&(this.source.stop||(this.source.stop=this.source.noteOff),this.source.stop(),this.source.disconnect(),this.gainNode.disconnect(),this.source=null,this.gainNode=null),this.state=e||"stopped","stopped"===this.state&&t&&"function"==typeof this.events.stop&&this.events.stop(),this;this.stopSignal=!0}play(e){if(this.soundPath&&"recycled"!==this.state&&u.Resonance.canPlaySound())if(this.loaded||u.Resonance.loadedBuffers[this.soundPath]){if(u.Resonance.focused||this.canPlayUnfocused()){this.source&&(this.source.disconnect(),this.gainNode.disconnect(),this.source=null,this.gainNode=null),u.Resonance.pausedSounds.includes(this)&&u.Resonance.pausedSounds.splice(u.Resonance.pausedSounds.indexOf(this),1);var t=u.Resonance.audioCtx.createBufferSource(),s=u.Resonance.audioCtx.createGain();const a=this;return s.gain.value=u.Resonance.constructor.normalize(this._volume),s.connect(u.Resonance.gainNode),t.connect(s),t.buffer=u.Resonance.loadedBuffers[this.soundPath],t.playbackRate.value=this._playbackRate,t.onended=function(){"stopped"===a.state&&a.save||("restart"===a.state?a.play():"suspended"!==a.state&&("stopped"!==a.state&&"function"==typeof a.events.end&&a.events.end(),a._loop?a.play():a.save||a.kill()))},this.source=t,this.gainNode=s,this.duration=t.buffer.duration,this.playAfterLoad=null,t.start||(t.start=t.noteOn),t.start(0,this.pausedTimeStamp?this.pausedTimeStamp*this._playbackRate:this.startTime,this.endTime||this.duration),this.state="playing",this.startedTimeStamp=u.Resonance.audioCtx.currentTime-(this.pausedTimeStamp||this.startTime),this.pausedTimeStamp=0,u.Resonance.soundsPlaying.includes(this)||u.Resonance.soundsPlaying.push(this),e||"function"!=typeof this.events.start||this.events.start(),this}u.Resonance.queuedSoundsToPlay.includes(this)||u.Resonance.queuedSoundsToPlay.push(this)}else this.playAfterLoad=!0}restart(){return this.stop("restart"),this}canPlayUnfocused(){return!!this.playUnfocused}kill(){if(this.wipe(),u.Resonance.recycledSounds.length<u.Resonance.constructor.MAX_RECYCLED_SOUNDS)u.Resonance.recycledSounds.push(this);else for(const e in this)delete this[e]}wipe(){this.onStarted=null,this.onStopped=null,this.onEnded=null,this.onSuspended=null,this.onResumed=null,this.stop("wipe"),cancelAnimationFrame(this.fader.raf),this.source&&(this.source.disconnect(),this.gainNode.disconnect()),this.soundPath=null,this.startTime=null,this.endTime=null,this.save=null,this.duration=null,this._playbackRate=1,this.source=null,this.gainNode=null,this.loaded=!1,this.playAfterLoad=null,this.state="recycled",this.startedTimeStamp=null,this.pausedTimeStamp=0,this.playUnfocused=null,this.fader.duration=this.fader.currentIteration=this.fader.initialValue=this.fader.changeInValue=this.fader.totalIterations=this.fader.startStamp=this.fader.previousTimeStamp=this.fader.durationOffScreen=this.fader.queue=this.fader.raf=null,this.stopSignal=!1,this._loop=!1,this._volume=100,this._info.soundPath=this._info.duration=null;for(const e in this.events)delete this.events[e];u.Resonance.soundsPlaying.includes(this)&&u.Resonance.soundsPlaying.splice(u.Resonance.soundsPlaying.indexOf(this),1),u.Resonance.pausedSounds.includes(this)&&u.Resonance.pausedSounds.splice(u.Resonance.pausedSounds.indexOf(this),1),u.Resonance.queuedSoundsToPlay.includes(this)&&u.Resonance.queuedSoundsToPlay.splice(u.Resonance.queuedSoundsToPlay.indexOf(this),1),u.Resonance.queuedSoundsToFade.includes(this)&&u.Resonance.queuedSoundsToFade.splice(u.Resonance.queuedSoundsToFade.indexOf(this),1)}getCurrentTime(){return this.pausedTimeStamp?this.pausedTimeStamp*this._playbackRate:this.startedTimeStamp?u.Resonance.audioCtx.currentTime-this.startedTimeStamp:0}fade(s=100,e=5e3,a="easeOutCubic",n){if(!isNaN(s)&&!(isNaN(e)||"playing"!==this.state&&u.Resonance.focused)){if(!u.Resonance.focused&&!this.canPlayUnfocused())return u.Resonance.queuedSoundsToFade.includes(this)?void 0:(this.fader.queue={volume:s,duration:e,ease:a,callback:n},void u.Resonance.queuedSoundsToFade.push(this));Tween[a]||(a="easeOutCubic",console.warn("Resonance: Invalid pEase value. Reverted to default.")),this.fader.queue&&(this.fader.queue=null),s=u.Resonance.constructor.clamp(s,u.Resonance.constructor.MIN_VOLUME,u.Resonance.constructor.MAX_VOLUME),this.fader.duration=Math.max(e,0),this.fader.currentIteration=0,this.fader.initialValue=this._volume,this.fader.changeInValue=s-this.fader.initialValue,this.fader.totalIterations=this.fader.duration/(1e3/u.Resonance.constructor.FRAME_RATE),this.fader.startStamp=null,this.fader.previousTimeStamp=null,this.fader.durationOffScreen=[0,0],this.state="fading";const i=this,o=function(e){var t;u.Resonance.focused?(null===i.fader.startStamp&&(i.fader.startStamp=e),i.volume=Tween[a](i.fader.currentIteration,i.fader.initialValue,i.fader.changeInValue,i.fader.totalIterations),i.fader.durationOffScreen[1]&&(i.fader.durationOffScreen[0]+=i.fader.durationOffScreen[1],i.fader.durationOffScreen[1]=0),t=e-i.fader.durationOffScreen[0]-i.fader.startStamp,i.fader.currentIteration<i.fader.totalIterations&&i.fader.currentIteration++,t<i.fader.duration?(i.fader.previousTimeStamp=e,i.fader.raf=requestAnimationFrame(o)):(cancelAnimationFrame(i.fader.raf),i.fader.duration=i.fader.currentIteration=i.fader.initialValue=i.fader.changeInValue=i.fader.totalIterations=i.fader.startStamp=i.fader.previousTimeStamp=i.fader.durationOffScreen=i.fader.queue=i.fader.raf=null,i.state="playing",i.volume=s,"function"==typeof n&&n())):(i.fader.raf=requestAnimationFrame(o),i.fader.durationOffScreen[1]=e-i.fader.previousTimeStamp)};return this.fader.raf=requestAnimationFrame(o),this}}queuedFade(){this.fader.queue&&this.fade(this.fader.queue.volume,this.fader.queue.duration,this.fader.queue.ease,this.fader.queue.callback)}}}],__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];return void 0!==t||(t=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e](t,t.exports,__webpack_require__)),t.exports}__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(0),__webpack_exports__Resonance=__webpack_exports__.Resonance;export{__webpack_exports__Resonance as Resonance};